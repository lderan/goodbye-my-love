{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/module/main.ts","src/module/sheets/ActorSheetPC.ts","src/module/sheets/GBMLActorSheet.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\r\nimport { ActorSheetPC } from \"./sheets/ActorSheetPC\";\r\n\r\n\r\n/* -------------------------------------------- */\r\n/*  Foundry VTT Initialization                  */\r\n/* -------------------------------------------- */\r\n\r\n/**\r\n * Init hook.\r\n */\r\n Hooks.once(\"init\", async function () {\r\n    console.log(`Loading Goodbye My Love System`);\r\n    // Register sheet application classes\r\n    Actors.unregisterSheet(\"core\", ActorSheet);\r\n    Actors.registerSheet(\"good-bye-my-love\", ActorSheetPC, { types: [\"character\"], makeDefault: true });\r\n }); ","import { GBMLActorSheet } from \"./GBMLActorSheet\";\r\n\r\n/**\r\n * Extend the basic ActorSheet with some very simple modifications\r\n *\r\n */\r\nexport class ActorSheetPC extends GBMLActorSheet {\r\n\r\n    /**\r\n     * Extend and override the default options used by the 5e Actor Sheet\r\n     * @returns {Object}\r\n     */\r\n\tstatic get defaultOptions() {\r\n\t\treturn mergeObject(super.defaultOptions, {\r\n\t\t\tclasses: [\"character\", \"sheet\", \"actor\"],\r\n\t\t\ttemplate: \"systems/good-bye-my-love/dist/templates/actor/character.html\",\r\n\t\t\twidth: 830,\r\n\t\t\theight: 900,\r\n\t\t\tcloseOnSubmit: false,\r\n\t\t\tsubmitOnChange: true,\r\n\t\t\tsubmitOnClose: true,\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\teditable: true,\r\n\t\t\tbaseApplication: 'good-bye-my-love',\r\n\t\t\tid: \"idlarp\",\r\n\t\t\tpopOut: true,\r\n\t\t\tminimizable: true,\r\n\t\t\tresizable: true,\r\n\t\t\ttitle: \"null\",\r\n\t\t\tscrollY: [],\r\n\t\t\ttabs: [],\r\n\t\t\tdragDrop: [],\r\n\t\t\tfilters: []\r\n\t\t});\r\n\t}\r\n\r\n}","/**\r\n * Extend the basic ActorSheet with some very simple modifications\r\n *\r\n */\r\n export class GBMLActorSheet extends ActorSheet {\r\n\r\n\t/** @overrride */\r\n\tgetData() {\r\n\t\tlet data = super.getData();\r\n\t\treturn data;\r\n\t}\r\n\r\n\tasync rollSkill(event) {\r\n\t\tconst dice = event.currentTarget.dataset.die;\r\n\t\tconst diceName = event.currentTarget.dataset.name;\r\n\t\tconst tn = event.currentTarget.dataset.tn;\r\n\t\tlet r = new Roll('1'+dice, {});\r\n\t\tlet label = 'Rolling ';\r\n\r\n\t\tif (diceName == \"classDie\") {\r\n\t\t\tlabel += '<strong>Class die!</strong>';\r\n\t\t} else {\r\n\t\t\tlabel += diceName;\r\n\t\t}\r\n\r\n\t\tif(this.actor.system[diceName]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Execute the roll\r\n\t\tawait r.evaluate({async:true});\r\n\r\n\t\tr.toMessage({\r\n\t\t\tspeaker: ChatMessage.getSpeaker({ actor: this.actor }),\r\n\t\t\tflavor: label\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Activate event listeners using the prepared sheet HTML\r\n\t * @param html {HTML}   The prepared HTML object ready to be rendered into the DOM\r\n\t */\r\n\tactivateListeners(html) {\r\n\t\t// Owner Only Listeners\r\n\t\tif (this.actor.owner) {\r\n\t\t\tconsole.log(\"woo\");\r\n\t\t} else {\r\n\t\t\thtml.find(\".rollable\").each((i, el) => el.classList.remove(\"rollable\"));\r\n\t\t}\r\n\r\n\t\t// rolls\r\n\t\thtml.find('.click-roll').click(async event => {\r\n\t\t  \tthis.rollSkill(event);\r\n\t\t});\r\n\r\n\t\t// Handle default listeners last so system listeners are triggered first\r\n\t\tsuper.activateListeners(html);\r\n\t}\r\n\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbW9kdWxlL21haW4udHMiLCJzcmMvbW9kdWxlL3NoZWV0cy9BY3RvclNoZWV0UEMudHMiLCJzcmMvbW9kdWxlL3NoZWV0cy9HQk1MQWN0b3JTaGVldC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O0FDQ0Esd0RBQXFEO0FBR3JELGtEQUFrRDtBQUNsRCxrREFBa0Q7QUFDbEQsa0RBQWtEO0FBRWxEOztHQUVHO0FBQ0YsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7O1FBQ2hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztRQUM5QyxxQ0FBcUM7UUFDckMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsRUFBRSwyQkFBWSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkcsQ0FBQztDQUFBLENBQUMsQ0FBQzs7Ozs7QUNoQkoscURBQWtEO0FBRWxEOzs7R0FHRztBQUNILE1BQWEsWUFBYSxTQUFRLCtCQUFjO0lBRTVDOzs7T0FHRztJQUNOLE1BQU0sS0FBSyxjQUFjO1FBQ3hCLE9BQU8sV0FBVyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUU7WUFDeEMsT0FBTyxFQUFFLENBQUMsV0FBVyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUM7WUFDeEMsUUFBUSxFQUFFLDhEQUE4RDtZQUN4RSxLQUFLLEVBQUUsR0FBRztZQUNWLE1BQU0sRUFBRSxHQUFHO1lBQ1gsYUFBYSxFQUFFLEtBQUs7WUFDcEIsY0FBYyxFQUFFLElBQUk7WUFDcEIsYUFBYSxFQUFFLElBQUk7WUFDbkIsR0FBRyxFQUFFLENBQUM7WUFDTixJQUFJLEVBQUUsQ0FBQztZQUNQLFFBQVEsRUFBRSxJQUFJO1lBQ2QsZUFBZSxFQUFFLGtCQUFrQjtZQUNuQyxFQUFFLEVBQUUsUUFBUTtZQUNaLE1BQU0sRUFBRSxJQUFJO1lBQ1osV0FBVyxFQUFFLElBQUk7WUFDakIsU0FBUyxFQUFFLElBQUk7WUFDZixLQUFLLEVBQUUsTUFBTTtZQUNiLE9BQU8sRUFBRSxFQUFFO1lBQ1gsSUFBSSxFQUFFLEVBQUU7WUFDUixRQUFRLEVBQUUsRUFBRTtZQUNaLE9BQU8sRUFBRSxFQUFFO1NBQ1gsQ0FBQyxDQUFDO0lBQ0osQ0FBQztDQUVEO0FBL0JELG9DQStCQzs7Ozs7Ozs7Ozs7Ozs7QUNyQ0Q7OztHQUdHO0FBQ0YsTUFBYSxjQUFlLFNBQVEsVUFBVTtJQUU5QyxpQkFBaUI7SUFDakIsT0FBTztRQUNOLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUMzQixPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFSyxTQUFTLENBQUMsS0FBSzs7WUFDcEIsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO1lBQzdDLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztZQUNsRCxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDMUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsR0FBRyxHQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztZQUMvQixJQUFJLEtBQUssR0FBRyxVQUFVLENBQUM7WUFFdkIsSUFBSSxRQUFRLElBQUksVUFBVSxFQUFFO2dCQUMzQixLQUFLLElBQUksNkJBQTZCLENBQUM7YUFDdkM7aUJBQU07Z0JBQ04sS0FBSyxJQUFJLFFBQVEsQ0FBQzthQUNsQjtZQUVELElBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQy9CLE9BQU87YUFDUDtZQUVELG1CQUFtQjtZQUNuQixNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztZQUUvQixDQUFDLENBQUMsU0FBUyxDQUFDO2dCQUNYLE9BQU8sRUFBRSxXQUFXLENBQUMsVUFBVSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDdEQsTUFBTSxFQUFFLEtBQUs7YUFDYixDQUFDLENBQUM7UUFDSixDQUFDO0tBQUE7SUFFRDs7O09BR0c7SUFDSCxpQkFBaUIsQ0FBQyxJQUFJO1FBQ3JCLHVCQUF1QjtRQUN2QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFO1lBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbkI7YUFBTTtZQUNOLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUN4RTtRQUVELFFBQVE7UUFDUixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFNLEtBQUssRUFBQyxFQUFFO1lBQzFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekIsQ0FBQyxDQUFBLENBQUMsQ0FBQztRQUVILHdFQUF3RTtRQUN4RSxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0IsQ0FBQztDQUVEO0FBdkRBLHdDQXVEQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlxyXG5pbXBvcnQgeyBBY3RvclNoZWV0UEMgfSBmcm9tIFwiLi9zaGVldHMvQWN0b3JTaGVldFBDXCI7XHJcblxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogIEZvdW5kcnkgVlRUIEluaXRpYWxpemF0aW9uICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbi8qKlxyXG4gKiBJbml0IGhvb2suXHJcbiAqL1xyXG4gSG9va3Mub25jZShcImluaXRcIiwgYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coYExvYWRpbmcgR29vZGJ5ZSBNeSBMb3ZlIFN5c3RlbWApO1xyXG4gICAgLy8gUmVnaXN0ZXIgc2hlZXQgYXBwbGljYXRpb24gY2xhc3Nlc1xyXG4gICAgQWN0b3JzLnVucmVnaXN0ZXJTaGVldChcImNvcmVcIiwgQWN0b3JTaGVldCk7XHJcbiAgICBBY3RvcnMucmVnaXN0ZXJTaGVldChcImdvb2QtYnllLW15LWxvdmVcIiwgQWN0b3JTaGVldFBDLCB7IHR5cGVzOiBbXCJjaGFyYWN0ZXJcIl0sIG1ha2VEZWZhdWx0OiB0cnVlIH0pO1xyXG4gfSk7ICIsImltcG9ydCB7IEdCTUxBY3RvclNoZWV0IH0gZnJvbSBcIi4vR0JNTEFjdG9yU2hlZXRcIjtcclxuXHJcbi8qKlxyXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEFjdG9yU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBY3RvclNoZWV0UEMgZXh0ZW5kcyBHQk1MQWN0b3JTaGVldCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRlbmQgYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9wdGlvbnMgdXNlZCBieSB0aGUgNWUgQWN0b3IgU2hlZXRcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKi9cclxuXHRzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xyXG5cdFx0cmV0dXJuIG1lcmdlT2JqZWN0KHN1cGVyLmRlZmF1bHRPcHRpb25zLCB7XHJcblx0XHRcdGNsYXNzZXM6IFtcImNoYXJhY3RlclwiLCBcInNoZWV0XCIsIFwiYWN0b3JcIl0sXHJcblx0XHRcdHRlbXBsYXRlOiBcInN5c3RlbXMvZ29vZC1ieWUtbXktbG92ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9jaGFyYWN0ZXIuaHRtbFwiLFxyXG5cdFx0XHR3aWR0aDogODMwLFxyXG5cdFx0XHRoZWlnaHQ6IDkwMCxcclxuXHRcdFx0Y2xvc2VPblN1Ym1pdDogZmFsc2UsXHJcblx0XHRcdHN1Ym1pdE9uQ2hhbmdlOiB0cnVlLFxyXG5cdFx0XHRzdWJtaXRPbkNsb3NlOiB0cnVlLFxyXG5cdFx0XHR0b3A6IDAsXHJcblx0XHRcdGxlZnQ6IDAsXHJcblx0XHRcdGVkaXRhYmxlOiB0cnVlLFxyXG5cdFx0XHRiYXNlQXBwbGljYXRpb246ICdnb29kLWJ5ZS1teS1sb3ZlJyxcclxuXHRcdFx0aWQ6IFwiaWRsYXJwXCIsXHJcblx0XHRcdHBvcE91dDogdHJ1ZSxcclxuXHRcdFx0bWluaW1pemFibGU6IHRydWUsXHJcblx0XHRcdHJlc2l6YWJsZTogdHJ1ZSxcclxuXHRcdFx0dGl0bGU6IFwibnVsbFwiLFxyXG5cdFx0XHRzY3JvbGxZOiBbXSxcclxuXHRcdFx0dGFiczogW10sXHJcblx0XHRcdGRyYWdEcm9wOiBbXSxcclxuXHRcdFx0ZmlsdGVyczogW11cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcbn0iLCIvKipcclxuICogRXh0ZW5kIHRoZSBiYXNpYyBBY3RvclNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXHJcbiAqXHJcbiAqL1xyXG4gZXhwb3J0IGNsYXNzIEdCTUxBY3RvclNoZWV0IGV4dGVuZHMgQWN0b3JTaGVldCB7XHJcblxyXG5cdC8qKiBAb3ZlcnJyaWRlICovXHJcblx0Z2V0RGF0YSgpIHtcclxuXHRcdGxldCBkYXRhID0gc3VwZXIuZ2V0RGF0YSgpO1xyXG5cdFx0cmV0dXJuIGRhdGE7XHJcblx0fVxyXG5cclxuXHRhc3luYyByb2xsU2tpbGwoZXZlbnQpIHtcclxuXHRcdGNvbnN0IGRpY2UgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuZGllO1xyXG5cdFx0Y29uc3QgZGljZU5hbWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubmFtZTtcclxuXHRcdGNvbnN0IHRuID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnRuO1xyXG5cdFx0bGV0IHIgPSBuZXcgUm9sbCgnMScrZGljZSwge30pO1xyXG5cdFx0bGV0IGxhYmVsID0gJ1JvbGxpbmcgJztcclxuXHJcblx0XHRpZiAoZGljZU5hbWUgPT0gXCJjbGFzc0RpZVwiKSB7XHJcblx0XHRcdGxhYmVsICs9ICc8c3Ryb25nPkNsYXNzIGRpZSE8L3N0cm9uZz4nO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bGFiZWwgKz0gZGljZU5hbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYodGhpcy5hY3Rvci5zeXN0ZW1bZGljZU5hbWVdKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFeGVjdXRlIHRoZSByb2xsXHJcblx0XHRhd2FpdCByLmV2YWx1YXRlKHthc3luYzp0cnVlfSk7XHJcblxyXG5cdFx0ci50b01lc3NhZ2Uoe1xyXG5cdFx0XHRzcGVha2VyOiBDaGF0TWVzc2FnZS5nZXRTcGVha2VyKHsgYWN0b3I6IHRoaXMuYWN0b3IgfSksXHJcblx0XHRcdGZsYXZvcjogbGFiZWxcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXHJcblx0ICogQHBhcmFtIGh0bWwge0hUTUx9ICAgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxyXG5cdCAqL1xyXG5cdGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcclxuXHRcdC8vIE93bmVyIE9ubHkgTGlzdGVuZXJzXHJcblx0XHRpZiAodGhpcy5hY3Rvci5vd25lcikge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIndvb1wiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGh0bWwuZmluZChcIi5yb2xsYWJsZVwiKS5lYWNoKChpLCBlbCkgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZShcInJvbGxhYmxlXCIpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyByb2xsc1xyXG5cdFx0aHRtbC5maW5kKCcuY2xpY2stcm9sbCcpLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHtcclxuXHRcdCAgXHR0aGlzLnJvbGxTa2lsbChldmVudCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBIYW5kbGUgZGVmYXVsdCBsaXN0ZW5lcnMgbGFzdCBzbyBzeXN0ZW0gbGlzdGVuZXJzIGFyZSB0cmlnZ2VyZWQgZmlyc3RcclxuXHRcdHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpO1xyXG5cdH1cclxuXHJcbn0iXX0="}